# å‰è¨€

å„ä½å¤§ä½¬å¥½ä¹…ä¸è§å•Šï½

å•Šï½å¥½ä¹…æ²¡å†™æ–‡ç« äº†,æƒ­æ„§æƒ­æ„§ã€‚ğŸ¶

å° null æœ€è¿‘è·‘å»å†™ Flutter äº† ~

Flutter ä½¿ç”¨ Dart è¯­è¨€è¿›è¡Œå¼€å‘,å° null åœ¨å†™ Flutter çš„è¿‡ç¨‹ä¸­å‘ç° Dart å’Œ Javascript/Typescript æœ‰äº›ç›¸ä¼¼ä¹‹å¤„ï½

æœ¬æ–‡åˆ†äº«ä¸€äº›ç›¸ä¼¼ä¹‹å¤„,å¸Œæœ›èƒ½å¸®åŠ©åˆ°æ‰“ç®—ä¸Šè½¦çš„ä½ ï½

**You might already know Dart.** - from [10 good reasons to learn Dart](https://medium.com/hackernoon/10-good-reasons-why-you-should-learn-dart-4b257708a332)

æ˜¯çš„,ä½ è¿˜æ²¡å¼€å§‹å­¦ Dart,å¯èƒ½å°±å¯¹å®ƒå¾ˆç†Ÿæ‚‰äº†ã€‚

# Dart çš„ã€Œ å‰ä¸–ä»Šç”Ÿ . è¡°è½ä¸å´›èµ· ã€

## Dart è¯­è¨€çš„è¯ç”Ÿ

> 2011 å¹´ 9 æœˆ,ç½‘ç»œä¸Šå‡ºç°äº†ä¸€å°æ ‡é¢˜ä¸º"Future of JavaScript"çš„è°·æ­Œå†…éƒ¨ç”µå­é‚®ä»¶,é‚®ä»¶ä¸­è¡¨æ˜,ç”±äº Javascript è¯­è¨€å‘å±•ç¼“æ…¢,è°·æ­Œå†…éƒ¨æ­£åœ¨å¼€å‘ä¸€é—¨æ¯” JavaScript æ›´å¥½çš„ web è¯­è¨€ã€‚è¿™é—¨æ–°è¯­è¨€çš„ç›®æ ‡æ˜¯å®ç° JavaScript æ‰€èƒ½å®ç°çš„ä¸€åˆ‡ã€‚å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯"ä¿æŒ JavaScript çš„åŠ¨æ€ç‰¹æ€§,ä½†è¦æœ‰æ›´å¥½çš„æ€§èƒ½é…ç½®æ–‡ä»¶,å¹¶èƒ½é€‚åº”å¤§å‹é¡¹ç›®çš„å·¥å…·"ã€‚å®ƒè¿˜å¯ä»¥äº¤å‰ç¼–è¯‘æˆ JavaScriptã€‚è¿™ç§è¯­è¨€ä½œä¸ºæŠ€æœ¯é¢„è§ˆç‰ˆå‘æ›´å¹¿æ³›çš„ä¸–ç•Œå‘å¸ƒ,å¹¶å‘½åä¸º Dartã€‚ - å¼•è‡ª ã€ŠDart in Actionã€‹

> 2011 å¹´ 10 æœˆ 10 æ—¥çš„ GOTO å¤§ä¼šä¸Š,è°·æ­Œçš„ä¸¤ä½å·¥ç¨‹å¸ˆ Lars Bak (V8 JavaScript engine é¡¹ç›®ç»„é•¿..)å’Œ Gilad Bracha (å®ç°å®šåˆ¶ Java/JVM è§„èŒƒ,JVM è§„èŒƒä¸»è¦è´¡çŒ®è€…..) å‘å¸ƒäº†"Dart",ä¹ŸéªŒè¯äº†ä¹‹å‰ email ä¼ é—»ã€‚Dart æ˜¯ä¸€ç§å…¨æ–°çš„ç¼–ç¨‹è¯­è¨€,æ—¨åœ¨å¸®åŠ©å¼€å‘è€…æ„å»º Web åº”ç”¨ç¨‹åºã€‚

![2011goto](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/2011goto.jpg)

å¯¹ Dart è¯­è¨€å¼€å‘å›¢é˜Ÿæœ‰å…´è¶£çš„è¯~å¯æˆ³ ğŸ‘‰[Dart è¯­è¨€èƒŒåæœ‰å“ªäº›å¤§ç‰›ï¼Ÿ](https://www.infoq.cn/article/2015/04/dart-1.8-javascript)

## Dart 1.0 ã€ŠDart 1.0: A stable SDK for structured web appsã€‹

2013 å¹´ 11 æœˆ 14 æ—¥,è°·æ­Œå‘å¸ƒ Dart 1.0 ç‰ˆã€‚Dart 1.0 ç‰ˆæœ¬å‘å¸ƒ,ä¸ä½†æ¨å‡ºäº† Dart è¯­è¨€ 1.0 ç‰ˆæœ¬è€Œä¸”è¿˜æ¨å‡ºäº†ç›¸å…³å¼€æºå·¥å…·ç®±å’Œé…å¥—çš„ç¼–è¾‘å™¨ã€‚ä¸ºäº†æ¨å¹¿ Dart,Google åœ¨ Chrome å†…ç½®äº† DartVM å¼•æ“(å·²åœ¨ 2015 å¹´ç§»é™¤),å½¼æ—¶ JavaScript å› ä¸º NodeJs ç”Ÿæ€çš„å´›èµ·è€Œç„•å‘äº†ç¬¬äºŒæ˜¥,è€Œ Dart å´ä¸æ¸©ä¸ç«,ä¸”å› ä¸ºå…¶è¿è¡Œæ•ˆç‡é¥±å—è¯Ÿç—…ã€‚

å°±è¿™æ ·,Dart è¿˜åœ¨ 2018 å¹´ "è£è· 20 å¤§ç³Ÿç³•è¯­è¨€æ¦œé¦–",æ€»ç»“ ã€Œ Javascript å¾ˆ"å¿™",Dart å¾ˆ"æƒ¨" ã€ã€‚

![2018-worst-lang](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/2018-worst-lang.png)

## Dart 2.0 ã€ŠAnnouncing Dart 2 Stable and the Dart Web Platformã€‹

2018 å¹´ 8 æœˆ 8 æ—¥,è°·æ­Œå‘å¸ƒ Dart2.0 ç‰ˆæœ¬ã€‚è°·æ­Œå¯¹ Dart è¿›è¡Œå…¨æ–°æ”¹ç‰ˆ,ä»åº•å±‚é‡æ„äº† Dart è¯­è¨€,åŠ å…¥äº†å¾ˆå¤šé¢å‘æœªæ¥çš„æ–°ç‰¹æ€§,è¯­è¨€æ€§èƒ½å¤§å¹…æä¾›ã€‚Dart å¼€å‘å›¢é˜Ÿæ€»ç»“äº† Dart1.0 ç‰ˆæœ¬çš„ä¼˜ç¼ºç‚¹,å†³å®šæ‰“é€ ä¸€ä¸ªè¿è¡Œæ›´å¿«ã€æ›´åŠ å®‰å…¨çš„å¼ºç±»å‹è¯­è¨€ Dart2.0ï¼ˆåœ¨ Dart2.0 ä¹‹å‰,Dart æ˜¯ä¸€é—¨å¼±ç±»å‹è¯­è¨€ã€‚æ­¤æ¬¡å‘å¸ƒè°·æ­Œä¸ä»…å‘å¸ƒäº† Dart 2.0 ç¨³å®šç‰ˆ,è€Œä¸”è¿˜é‡å†™äº† Dart web platformã€‚æ–°ç‰ˆçš„ web platform æä¾›äº†ä¸€å¥—é«˜æ€§èƒ½ã€å¯æ‰©å±•çš„ç”Ÿäº§åŠ›å·¥å…·ã€‚

## Flutter å‘å¸ƒ ã€ŠFlutter 1.0: Googleâ€™s Portable UI Toolkitã€‹

Google å†…éƒ¨ç”¨ Dart ç¼–å†™å­µåŒ–äº†ä¸€ä¸ªç§»åŠ¨å¼€å‘æ¡†æ¶ Sky,ä¹‹ååˆè¢«å‘½åä¸º Flutter,è¿›å…¥äº†ç§»åŠ¨è·¨å¹³å°å¼€å‘çš„é¢†åŸŸã€‚

2018 å¹´ 12 æœˆ 4 æ—¥,è°·æ­Œå‘å¸ƒ Flutter 1.0 ç‰ˆæœ¬ã€‚

Flutter æ˜¯è°·æ­Œå¼€æºçš„ç§»åŠ¨åº”ç”¨å¼€å‘ SDK,ä½¿ç”¨ Flutter å¯ä»¥ç›´æ¥å¼€å‘ Android å’Œ iOS åº”ç”¨ã€‚å…¶æœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ä¸€å¥—ä»£ç å¤šå¹³å°è¿è¡Œã€é«˜æ€§èƒ½å’Œ Hot Reloadï¼ˆçƒ­é‡è½½ï¼‰ã€‚è°·æ­Œå³å°†å‘å¸ƒ Fuchsia ç³»ç»Ÿå°±ä»¥ Flutter ä¸ºä¸»è¦å¼€å‘æ¡†æ¶ã€‚Flutter é‡‡ç”¨ Dart ä½œä¸ºå…¶åº•å±‚è¯­è¨€ã€‚Dart ä¹Ÿç”±äº Flutter ç¾å¥½æœªæ¥è€Œå¾—åˆ°ä¼—å¤šå¼€å‘è€…çš„é’çã€‚

## Fuchsia æŠ€æœ¯é€‰å‹,Dart ç¬‘åˆ°æœ€å

Android å’Œ Chrome OS å¯èƒ½æ˜¯è°·æ­Œæœ€çŸ¥åçš„ OS é¡¹ç›®,ä½†å®é™…ä¸Šè¿™ä¸¤å¹´æ›å…‰é‡é€æ¸å¢å¤§çš„æ˜¯è°·æ­Œæ­£åœ¨å¼€å‘çš„ç¬¬ä¸‰ä¸ªæ“ä½œç³»ç»Ÿâ€”â€”Fuchsiaã€‚Fuchsia æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®,ç±»ä¼¼äº AOSPï¼ˆAndroid å¼€æ”¾æºä»£ç é¡¹ç›®ï¼‰,ä½† Fuchsia å¯ä»¥è¿è¡Œå„ç§è®¾å¤‡,ä»æ™ºèƒ½å®¶å±…è®¾å¤‡åˆ°ç¬”è®°æœ¬ç”µè„‘å’Œæ‰‹æœºç­‰ç­‰ã€‚å®ƒä¹Ÿè¢«è®¤ä¸ºæ˜¯å»ºç«‹åœ¨ä¸€ä¸ªè°·æ­Œæ„å»ºçš„åä¸ºâ€œzirconâ€çš„å…¨æ–°å†…æ ¸ä¹‹ä¸Š,è€Œä¸æ˜¯æ„æˆ Android å’Œ Chrome æ“ä½œç³»ç»ŸåŸºç¡€çš„ Linux å†…æ ¸ã€‚

è¿‘æ—¥è°·æ­Œ Fuchsia ç½‘ç«™ä¸Šæ›´æ–°äº†ä¸€åˆ™[â€œFuchsia Programming Language Policyâ€](https://fuchsia.googlesource.com/fuchsia/+/refs/heads/master/docs/project/policy/programming_languages.md)çš„æ–‡æ¡£,è¯¦ç»†è§£é‡Šäº† Fuchsia é¡¹ç›®åœ¨ç¼–ç¨‹è¯­è¨€æ–¹é¢çš„é€‰å‹è€ƒè™‘ã€‚æ®å®˜æ–¹æ–‡æ¡£æŠ«éœ²,C/C++ã€Dartã€Rustã€Go è¯­è¨€éƒ½æ˜¯ Fuchsia å¼€å‘çš„å€™é€‰è¯­è¨€,é™¤äº†è€ç‰Œç¼–ç¨‹è¯­è¨€ C å’Œ C++ çš„æ±Ÿæ¹–åœ°ä½ç¨³å›ºå¾—åˆ°äº†å®˜æ–¹å¼€å‘äººå‘˜çš„è®¤å¯ä»¥å¤–,æ–°å…´ç¼–ç¨‹è¯­è¨€ä¸­,Dart å‡»è´¥äº† Rust å’Œ Go è¯­è¨€,æˆä¸ºç”¨æˆ· UI ç•Œé¢çš„æ­£å¼å®˜æ–¹è¯­è¨€ã€‚

# Javascript ğŸ†š Dart

## å˜é‡å£°æ˜

```js
// javascript

var name = 'nullä»”'

// dart

var name = 'nullä»”'
```

ä¸ Javascript ä¸€æ ·,åœ¨ Dart ä¸­,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ var å®šä¹‰å˜é‡ã€‚

ä¸ä¸€æ ·çš„æ˜¯,åœ¨ Dart ä¸­,å˜é‡éƒ½æ˜¯å¼•ç”¨ç±»å‹,ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„å˜é‡éƒ½æ˜¯å¯¹è±¡,æ‰€ä»¥ Dart æ˜¯ä¸€é—¨å®Œå…¨é¢å‘å¯¹è±¡çš„è¯­è¨€ã€‚

Dart æ˜¯ç±»å‹å®‰å…¨çš„,æ‰€ä»¥å½“ä½ ä½¿ç”¨ var å…³é”®å­—å®šä¹‰å˜é‡æ—¶,æœ¬è´¨å…¶å®å°±æ˜¯å…·ä½“ç±»å‹çš„å¼•ç”¨ã€‚

æ¯”å¦‚ä¸Šæ–‡ä»£ç å…¶å®å°±æ˜¯ä¸€ä¸ª String ç±»å‹å¯¹è±¡çš„å¼•ç”¨,è¿™ä¸ªå¯¹è±¡çš„å†…å®¹æ˜¯ null ä»” ã€‚

åœ¨ Dart ä¸­,å£°æ˜ä¸€ä¸ªæœªåˆå§‹åŒ–çš„å˜é‡,å˜é‡çš„ç±»å‹å¯ä»¥æ›´æ”¹,å®ƒçš„åˆå§‹å€¼æ˜¯ nullã€‚

![variable](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/variable1.png)

åœ¨ Dart ä¸­,å£°æ˜ä¸€ä¸ªåˆå§‹åŒ–çš„å˜é‡,å˜é‡ç±»å‹ä¸èƒ½å†æ›´æ”¹ ã€‚

![variable](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/variable2.png)

## å¸¸é‡å£°æ˜

```dart
// javascript

const name = 'nullä»”';

// dart

const name = 'nullä»”';
```

ä¸ Javascript ä¸€æ ·,åœ¨ Dart ä¸­,æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ const å®šä¹‰å¸¸é‡ã€‚

Dart ä¸­,è¿˜å¯ä»¥ä½¿ç”¨ final å®šä¹‰å¸¸é‡,ç”±äºæœ¬æ–‡ä¸»è¦å°†ä¸ Javascript çš„ç›¸ä¼¼ç‚¹,è¿™é‡Œå°±ä¸ç»†è¯´äº†ã€‚

![constant](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/constant.png)

## æ¨¡ç‰ˆå­—ç¬¦ä¸²

```dart
// javascript

const name = 'nullä»”';

const word = `My name is ${name}`;

// dart

const name = 'nullä»”';

const word = 'My name is $name';
```

ä¸ Javascript ä¸€æ ·,Dart åŒæ ·æ”¯æŒæ¨¡æ¿å­—ç¬¦ä¸²,è¯­æ³•ä¸ºï¼š${expression},å¦‚æœexpressionæ˜¯ä¸€ä¸ªå˜é‡,é‚£ä¹ˆå¯ä»¥çœç•¥{},å³ä¸º$varibaleã€‚

å¦‚æœè¡¨è¾¾å¼çš„ç»“æœæ˜¯ä¸€ä¸ªå¯¹è±¡,é‚£ä¹ˆä¼šè°ƒç”¨å¯¹è±¡çš„ toString()æ–¹æ³•ã€‚

![template-string](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/template-string.png)

## ç®­å¤´å‡½æ•°

```dart
// javascript

  const getName = (name) => name;

  getName('nullä»”');

// dart

  String getName(name) => name;

  getName('nullä»”');
```

ä¸ Javascript ä¸€æ ·,Dart åŒæ ·æ”¯æŒç®­å¤´å‡½æ•°,å¦‚æœå‡½æ•°åªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼,å¯ä»¥ä½¿ç”¨ç®­å¤´è¡¨è¾¾å¼æ–¹æ³•è¿›è¡Œç®€å†™ã€‚=> åé¢çš„è¡¨è¾¾å¼å°†ä½œä¸ºå‡½æ•°çš„è¿”å›ç»“æœã€‚

## æ‰©å±•è¿ç®—ç¬¦ (Spread Operator)

```dart
// javascript

  const list=[1,2,3,4,5];

  [0,...list,6];

// dart

  const list=[1,2,3,4,5];

  [0,...list,6];
```

Dart v2.3 å¼•å…¥äº† Spread Operator,æˆ‘ä»¬åœ¨ Javascript ä¸­å¾ˆå–œæ¬¢ç”¨çš„ç¥å™¨,åœ¨ Dart ä¸­ä¹Ÿå¯ä»¥ç”¨å•¦ï½å—¯,çœŸé¦™~

![spread](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/spread.png)

## å‚æ•°é»˜è®¤å€¼ä¸å¯é€‰å‚æ•°

```dart
// javascript

  function getInfo({name='nullä»”',age}){
    console.log(`å¤§å®¶å¥½,æˆ‘æ˜¯${name},ä»Šå¹´${age}å²`);
  }
  getInfo({age:18});

// dart

  void getInfo({name="nullä»”",age}){
    print('å¤§å®¶å¥½,æˆ‘æ˜¯$name,ä»Šå¹´$ageå²');
  }
  getInfo(age:18);
```

ä¸ Javascript ç›¸ä¼¼,Dart æ”¯æŒå‡½æ•°å‚æ•°é»˜è®¤å€¼ä¸å¯é€‰å‚æ•°,Get it ~

![default](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/default.png)

## async/await å‡½æ•°

```dart
// javascript

  async function getData(){

    const name= await new Promise((resolve)=>setTimeout(()=>resolve('nullä»”'),1000));

    console.log(name);  // nullä»”
  }
  getData();

// dart

  Future getData() async{

    String name =  await Future.delayed(Duration(seconds: 1),()=>'nullä»”');

    print(name);  // nullä»”
  }
  getData();
```

ä¸ Javascript ç›¸åŒ,Dart ä¹Ÿæä¾›äº† async/await è¯­æ³•ç³–,è®©æˆ‘ä»¬æ›´å¥½çš„å¤„ç†å¼‚æ­¥æ“ä½œï½

Javascript async å‡½æ•°è¿”å›çš„æ˜¯ Promise å¯¹è±¡,è€Œ Dart async å‡½æ•°è¿”å›çš„æ˜¯ Future å¯¹è±¡ï½

![async](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/async.png)

## çº§è”å‡½æ•°(é“¾å¼è°ƒç”¨)

```js
// javascript

new Promise((r) => {
  r(1)
})
  .then((res) => ++res)
  .then((res) => ++res)
  .then((res) => console.log(++res)) // 4

// dart

 List<int> list =

   []..addAll([1,2,3,4,5])
     ..replaceRange(0,1,[6])
     ..sort((a,b)=>a-b);

  print(list);  // [2, 3, 4, 5, 6]
```

åœ¨ Javascript ä¸­ æˆ‘ä»¬ä¸€èˆ¬é€šè¿‡æ‰‹åŠ¨ "return this" æ¥å®ç°é“¾å¼è°ƒç”¨,è€Œ Dart æä¾›äº† Cascade (çº§è”è¿ç®—ç¬¦) .. å¸®æˆ‘ä»¬å®ç°é“¾å¼è°ƒç”¨ï½ çœŸé¦™ï¼

![Cascade](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/cascade.png)

## æ¨¡å—å¯¼å…¥å’Œå¯¼å‡º import

Javascript å’Œ Dart éƒ½ä½¿ç”¨ import æ¥å¯¼å…¥æ¨¡å—,ä¸è¿‡ä¸åŒçš„æ˜¯,Dart å¹¶ä¸éœ€è¦ä½¿ç”¨ export æ¥å¯¼å‡ºæ¨¡å—ã€‚

```dart

// å®Œå…¨å¯¼å…¥

// javascript

import abc from "abc";
import * as xx from "abc";

// dart

import 'package:abc/abc';

// éƒ¨åˆ†å¯¼å…¥

// javascript

import { xx } from "abc";

// dart

import 'package:abc/abc' show xxx; // åªå¯¼å‡ºå…¶ä¸­ä¸€ä¸ªå¯¹è±¡/æ–¹æ³• xxx
import 'package:abc/abc' hide xxx; // å¯¼å‡ºæ¨¡å—æ—¶ä¸å¯¼å‡ºxxx

```

## ç±» class

```dart
//javascript

class Person{
  // ç§æœ‰å±æ€§ææ¡ˆ
  #age=0;
  // æ„é€ å‡½æ•°åŠå‚æ•°é»˜è®¤å€¼
  constructor(name='nullä»”'){
    this.name=name;
  }
  // å®ä¾‹æ–¹æ³•
  getName(){
    console.log(this.name);
  }
  // é™æ€æ–¹æ³•
  static say(){
    console.log(`hello world`);
  }
  // getter && setter
  get age(){
    return this.#age;
  }
  set age(value){
    this.#age=value;
  }
}

//dart

class Person{
  // ç§æœ‰å±æ€§
  int _age;
  String name;
   // æ„é€ å‡½æ•°åŠå‚æ•°é»˜è®¤å€¼
  Person({this.name='nullä»”'});
   // å®ä¾‹æ–¹æ³•
  void getName(){
    print(this.name);
  }
   // é™æ€æ–¹æ³•
  static say(){
    print("hello world");
  }
  // getter && setter
  int get age =>this._age;
  set age(int value)=>this._age=value;
}

```

![fx](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/class.png)

# Typescript ğŸ†š Dart

## æ³›å‹

Typescript ä¸ Dart ä¸­éƒ½å­˜åœ¨æ³›å‹,ä¸‹é¢æˆ‘ä»¬ä»¥ä¸€ä¸ªç®€å•çš„æ³›å‹å‡½æ•°ç®€å•ä»‹ç»ä¸‹ï½

```dart
// typescript

  function identity<T>(arg: T): T {
    return arg;
  };

  identity<String>('nullä»”'); // nullä»”

  identity<Number>(18); // 18

// dart

  T identity<T>(T arg){
    return arg;
  }

  identity<String>('nullä»”'); // nullä»”

  identity<int>(18);  // 18

```

![fx](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/fx.png)

## Typescript Type Assertion ğŸ†š Dart as è¿ç®—ç¬¦

ç±»å‹æ–­è¨€ï¼ˆType Assertionï¼‰å¯ä»¥ç”¨æ¥æ‰‹åŠ¨æŒ‡å®šä¸€ä¸ªå€¼çš„ç±»å‹ã€‚

```js
å€¼ as ç±»å‹
```

![as-dart](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/as-dart.png)

![as](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/as.png)

## Typescript Optional Chaining ğŸ†š Dart ?. è¿ç®—ç¬¦

TypeScript 3.7 å®ç°äº†å‘¼å£°æœ€é«˜çš„ ECMAScript åŠŸèƒ½ä¹‹ä¸€ï¼šå¯é€‰é“¾ï¼ˆOptional Chainingï¼‰ï¼

ç»ˆäºä¸ç”¨å†å†™ ä¸€å¨é•¿é•¿è‡­è‡­çš„&& è¿ç®—ç¬¦æ‰§è¡Œä¸­é—´å±æ€§æ£€æŸ¥ å’Œ null/undefined åˆ¤æ–­äº†ï½

```js
// before
if (foo && foo.bar && foo.bar.baz) {
  // ...
}
// after

if (foo?.bar?.baz) {
  // ...
}
```

Dart æœ¬èº«å°±å†…ç½®äº†?.è¿ç®—ç¬¦,æˆ‘ä»¬æ¥ç§ç§ï½

```dart
// typescript

let foo;

console.log(foo?.bar?.baz);


// dart

var foo;

print(foo?.bar?.baz);

```

![optional-chaining](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/optional-chaining.png)

## Typescript Nullish Coalescing ğŸ†š Dart ?? è¿ç®—ç¬¦

TypeScript 3.7 å®ç°äº†å¦ä¸€ä¸ªå³å°†æ¨å‡ºçš„ ECMAScript åŠŸèƒ½æ˜¯ ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ï¼ˆnullish coalescing operatorï¼‰!

?? è¿ç®—ç¬¦å¯ä»¥åœ¨å¤„ç† null æˆ– undefined æ—¶â€œå›é€€â€åˆ°ä¸€ä¸ªé»˜è®¤å€¼ä¸Š !

```js
// typescript

let x = foo ?? bar()

// ç­‰ä»·äº

let x = foo !== null && foo !== void 0 ? foo : bar()
```

Dart æœ¬èº«å°±å†…ç½®äº†??è¿ç®—ç¬¦,æˆ‘ä»¬æ¥ç§ç§ï½

```dart
// typescript
  let age;

  function setAge() {
    age = 18;
  }

  age ?? setAge();

  console.log(age) // 18

// dart

  var age;

  void setAge() {
    age = 18;
  }

  age ?? setAge();

  print(age); // 18
```

![nullish coalescing](https://raw.githubusercontent.com/webfansplz/article/master/dart/images/nullish-coalescing.png)

# å‚è€ƒ

[Dart è¯­è¨€çš„å‰ä¸–ä»Šç”Ÿ](https://www.jianshu.com/p/c939a613dc4f)

# åè®°

> å¦‚æœä½ å’Œæˆ‘ä¸€æ ·å–œæ¬¢å‰ç«¯,ä¹Ÿçˆ±åŠ¨æ‰‹æŠ˜è…¾,æ¬¢è¿å…³æ³¨æˆ‘ä¸€èµ·ç©è€å•Šï½ â¤ï¸

[github åœ°å€,æ¬¢è¿ follow å“¦ï½](https://github.com/webfansplz)

## åšå®¢

[æˆ‘çš„åšå®¢,ç‚¹ star,ä¸è¿·è·¯ï½](https://github.com/webfansplz/article)

## å…¬ä¼—å·

å‰ç«¯æ—¶åˆ»

![å‰ç«¯æ—¶åˆ»](https://raw.githubusercontent.com/webfansplz/article/master/qrcode.gif)
